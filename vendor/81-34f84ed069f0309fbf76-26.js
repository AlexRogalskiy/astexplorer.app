(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{kafD:function(e,n,r){(function(e,r){var t,a,i;!function(s,o,c){"use strict";var u={function:!0,object:!0},p=u[typeof n]&&n&&!n.nodeType&&n,l=u[typeof e]&&e&&!e.nodeType&&e,f=p&&l&&"object"==typeof r&&r,d=l&&l.exports===p&&p;!f||f.global!==f&&f.window!==f&&f.self,a=[n],void 0===(i="function"==typeof(t=c)?t.apply(n,a):t)||(e.exports=i),p&&d&&c(l.exports)}(0,0,function(e){"use strict";var n,r,t;e.version="0.2.1";var a=e.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1,onCreateNode:null,onCreateScope:null,onDestroyScope:null},i=1,s=2,o=4,c=8,u=16,p=32,l=64,f=128,d=256;e.tokenTypes={EOF:i,StringLiteral:s,Keyword:o,Identifier:c,NumericLiteral:u,Punctuator:p,BooleanLiteral:l,NilLiteral:f,VarargLiteral:d};var x=e.errors={unexpected:"unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'",invalidVar:"invalid left-hand side of assignment near '%1'"},m=e.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,n){return{type:"IfClause",condition:e,body:n}},elseifClause:function(e,n){return{type:"ElseifClause",condition:e,body:n}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,n){return{type:"WhileStatement",condition:e,body:n}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,n){return{type:"RepeatStatement",condition:e,body:n}},localStatement:function(e,n){return{type:"LocalStatement",variables:e,init:n}},assignmentStatement:function(e,n){return{type:"AssignmentStatement",variables:e,init:n}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,n,r,t){return{type:"FunctionDeclaration",identifier:e,isLocal:r,parameters:n,body:t}},forNumericStatement:function(e,n,r,t,a){return{type:"ForNumericStatement",variable:e,start:n,end:r,step:t,body:a}},forGenericStatement:function(e,n,r){return{type:"ForGenericStatement",variables:e,iterators:n,body:r}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,n,r){return{type:e=e===s?"StringLiteral":e===u?"NumericLiteral":e===l?"BooleanLiteral":e===f?"NilLiteral":"VarargLiteral",value:n,raw:r}},tableKey:function(e,n){return{type:"TableKey",key:e,value:n}},tableKeyString:function(e,n){return{type:"TableKeyString",key:e,value:n}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,n,r){return{type:"and"===e||"or"===e?"LogicalExpression":"BinaryExpression",operator:e,left:n,right:r}},unaryExpression:function(e,n){return{type:"UnaryExpression",operator:e,argument:n}},memberExpression:function(e,n,r){return{type:"MemberExpression",indexer:n,identifier:r,base:e}},indexExpression:function(e,n){return{type:"IndexExpression",base:e,index:n}},callExpression:function(e,n){return{type:"CallExpression",base:e,arguments:n}},tableCallExpression:function(e,n){return{type:"TableCallExpression",base:e,arguments:n}},stringCallExpression:function(e,n){return{type:"StringCallExpression",base:e,argument:n}},comment:function(e,n){return{type:"Comment",value:e,raw:n}}};function finishNode(e){if(D){var n=I.pop();n.complete(),r.locations&&(e.loc=n.loc),r.ranges&&(e.range=n.range)}return r.onCreateNode&&r.onCreateNode(e),e}var h,y,v,S,g,E,b,k,C,L,N,A=Array.prototype.slice,w=(Object.prototype.toString,function indexOf(e,n){for(var r=0,t=e.length;r<t;r++)if(e[r]===n)return r;return-1});function sprintf(e){var n=A.call(arguments,1);return e=e.replace(/%(\d)/g,function(e,r){return""+n[r-1]||""})}function raise(e){var n,r,t=sprintf.apply(null,A.call(arguments,1));throw void 0!==e.line?(r=e.range[0]-e.lineStart,(n=new SyntaxError(sprintf("[%1:%2] %3",e.line,r,t))).line=e.line,n.index=e.range[0],n.column=r):(r=h-k+1,(n=new SyntaxError(sprintf("[%1:%2] %3",b,r,t))).index=h,n.line=b,n.column=r),n}function raiseUnexpectedToken(e,n){raise(n,x.expectedToken,e,n.value)}function unexpected(e,n){if(void 0===n&&(n=S.value),void 0!==e.type){var r;switch(e.type){case s:r="string";break;case o:r="keyword";break;case c:r="identifier";break;case u:r="number";break;case p:r="symbol";break;case l:r="boolean";break;case f:return raise(e,x.unexpected,"symbol","nil",n)}return raise(e,x.unexpected,r,e.value,n)}return raise(e,x.unexpected,"symbol",e,n)}function lex(){for(skipWhiteSpace();45===n.charCodeAt(h)&&45===n.charCodeAt(h+1);)scanComment(),skipWhiteSpace();if(h>=t)return{type:i,value:"<eof>",line:b,lineStart:k,range:[h,h]};var e=n.charCodeAt(h),r=n.charCodeAt(h+1);if(E=h,function isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||95===e}(e))return function scanIdentifierOrKeyword(){var e,r;for(;t=n.charCodeAt(++h),t>=65&&t<=90||t>=97&&t<=122||95===t||t>=48&&t<=57;);var t;!function isKeyword(e){switch(e.length){case 2:return"do"===e||"if"===e||"in"===e||"or"===e;case 3:return"and"===e||"end"===e||"for"===e||"not"===e;case 4:return"else"===e||"goto"===e||"then"===e;case 5:return"break"===e||"local"===e||"until"===e||"while"===e;case 6:return"elseif"===e||"repeat"===e||"return"===e;case 8:return"function"===e}return!1}(e=n.slice(E,h))?"true"===e||"false"===e?(r=l,e="true"===e):"nil"===e?(r=f,e=null):r=c:r=o;return{type:r,value:e,line:b,lineStart:k,range:[E,h]}}();switch(e){case 39:case 34:return function scanStringLiteral(){var e,r=n.charCodeAt(h++),a=h,i="";for(;h<t&&(e=n.charCodeAt(h++),r!==e);)92===e?(i+=n.slice(a,h-1)+readEscapeSequence(),a=h):(h>=t||isLineTerminator(e))&&(i+=n.slice(a,h-1),raise({},x.unfinishedString,i+String.fromCharCode(e)));return i+=n.slice(a,h-1),{type:s,value:i,line:b,lineStart:k,range:[E,h]}}();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return scanNumericLiteral();case 46:return isDecDigit(r)?scanNumericLiteral():46===r?46===n.charCodeAt(h+2)?function scanVarargLiteral(){return{type:d,value:"...",line:b,lineStart:k,range:[E,h+=3]}}():scanPunctuator(".."):scanPunctuator(".");case 61:return scanPunctuator(61===r?"==":"=");case 62:return scanPunctuator(61===r?">=":62===r?">>":">");case 60:return scanPunctuator(60===r?"<<":61===r?"<=":"<");case 126:return scanPunctuator(61===r?"~=":"~");case 58:return scanPunctuator(58===r?"::":":");case 91:return 91===r||61===r?function scanLongStringLiteral(){var e=readLongString();!1===e&&raise(y,x.expected,"[",y.value);return{type:s,value:e,line:b,lineStart:k,range:[E,h]}}():scanPunctuator("[");case 47:return scanPunctuator(47===r?"//":"/");case 42:case 94:case 37:case 44:case 123:case 124:case 125:case 93:case 40:case 41:case 59:case 38:case 35:case 45:case 43:return scanPunctuator(n.charAt(h))}return unexpected(n.charAt(h))}function consumeEOL(){var e=n.charCodeAt(h),r=n.charCodeAt(h+1);return!!isLineTerminator(e)&&(10===e&&13===r&&h++,13===e&&10===r&&h++,b++,k=++h,!0)}function skipWhiteSpace(){for(;h<t;){if(isWhiteSpace(n.charCodeAt(h)))h++;else if(!consumeEOL())break}}function scanPunctuator(e){return h+=e.length,{type:p,value:e,line:b,lineStart:k,range:[E,h]}}function scanNumericLiteral(){var e=n.charAt(h),r=n.charAt(h+1),t="0"===e&&"xX".indexOf(r||null)>=0?function readHexLiteral(){var e,r,t,a,i=0,s=1,o=1;a=h+=2,isHexDigit(n.charCodeAt(h))||raise({},x.malformedNumber,n.slice(E,h));for(;isHexDigit(n.charCodeAt(h));)h++;if(e=parseInt(n.slice(a,h),16),"."===n.charAt(h)){for(r=++h;isHexDigit(n.charCodeAt(h));)h++;i=n.slice(r,h),i=r===h?0:parseInt(i,16)/Math.pow(16,h-r)}if("pP".indexOf(n.charAt(h)||null)>=0){for(h++,"+-".indexOf(n.charAt(h)||null)>=0&&(o="+"===n.charAt(h++)?1:-1),t=h,isDecDigit(n.charCodeAt(h))||raise({},x.malformedNumber,n.slice(E,h));isDecDigit(n.charCodeAt(h));)h++;s=n.slice(t,h),s=Math.pow(2,s*o)}return(e+i)*s}():function readDecLiteral(){for(;isDecDigit(n.charCodeAt(h));)h++;if("."===n.charAt(h))for(h++;isDecDigit(n.charCodeAt(h));)h++;if("eE".indexOf(n.charAt(h)||null)>=0)for(h++,"+-".indexOf(n.charAt(h)||null)>=0&&h++,isDecDigit(n.charCodeAt(h))||raise({},x.malformedNumber,n.slice(E,h));isDecDigit(n.charCodeAt(h));)h++;return parseFloat(n.slice(E,h))}();return{type:u,value:t,line:b,lineStart:k,range:[E,h]}}function readEscapeSequence(){var e=h;switch(n.charAt(h)){case"n":return h++,"\n";case"r":return h++,"\r";case"t":return h++,"\t";case"v":return h++,"\v";case"b":return h++,"\b";case"f":return h++,"\f";case"z":return h++,skipWhiteSpace(),"";case"x":return isHexDigit(n.charCodeAt(h+1))&&isHexDigit(n.charCodeAt(h+2))?(h+=3,"\\"+n.slice(e,h)):"\\"+n.charAt(h++);default:if(isDecDigit(n.charCodeAt(h))){for(;isDecDigit(n.charCodeAt(++h)););return"\\"+n.slice(e,h)}return n.charAt(h++)}}function scanComment(){E=h,h+=2;var e=n.charAt(h),a="",i=!1,s=h,o=k,c=b;if("["===e&&(!1===(a=readLongString())?a=e:i=!0),!i){for(;h<t&&!isLineTerminator(n.charCodeAt(h));)h++;r.comments&&(a=n.slice(s,h))}if(r.comments){var u=m.comment(a,n.slice(E,h));r.locations&&(u.loc={start:{line:c,column:E-o},end:{line:b,column:h-k}}),r.ranges&&(u.range=[E,h]),r.onCreateNode&&r.onCreateNode(u),g.push(u)}}function readLongString(){var e,r=0,a="",i=!1;for(h++;"="===n.charAt(h+r);)r++;if("["!==n.charAt(h+r))return!1;for(h+=r+1,isLineTerminator(n.charCodeAt(h))&&consumeEOL(),e=h;h<t;){if(isLineTerminator(n.charCodeAt(h))&&consumeEOL(),"]"===n.charAt(h++)){i=!0;for(var s=0;s<r;s++)"="!==n.charAt(h+s)&&(i=!1);"]"!==n.charAt(h+r)&&(i=!1)}if(i)break}return a+=n.slice(e,h-1),h+=r+1,a}function next(){v=y,y=S,S=lex()}function consume(e){return e===y.value&&(next(),!0)}function expect(e){e===y.value?next():raise(y,x.expected,e,y.value)}function isWhiteSpace(e){return 9===e||32===e||11===e||12===e}function isLineTerminator(e){return 10===e||13===e}function isDecDigit(e){return e>=48&&e<=57}function isHexDigit(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function isBlockFollow(e){if(i===e.type)return!0;if(o!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function createScope(){var e=Array.apply(null,C[L++]);C.push(e),r.onCreateScope&&r.onCreateScope()}function destroyScope(){C.pop();L--,r.onDestroyScope&&r.onDestroyScope()}function scopeIdentifierName(e){-1===w(C[L],e)&&C[L].push(e)}function scopeIdentifier(e){scopeIdentifierName(e.name),attachScope(e,!0)}function attachScope(e,n){n||-1!==function indexOfObject(e,n,r){for(var t=0,a=e.length;t<a;t++)if(e[t][n]===r)return t;return-1}(N,"name",e.name)||N.push(e),e.isLocal=n}function scopeHasName(e){return-1!==w(C[L],e)}e.lex=lex;var D,I=[];function createLocationMarker(){return new Marker(y)}function Marker(e){r.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),r.ranges&&(this.range=[e.range[0],0])}function markLocation(){D&&I.push(createLocationMarker())}function pushLocation(e){D&&I.push(e)}function parseBlock(e){for(var n,r=[];!isBlockFollow(y);){if("return"===y.value){r.push(parseStatement());break}(n=parseStatement())&&r.push(n)}return r}function parseStatement(){if(markLocation(),o===y.type)switch(y.value){case"local":return next(),function parseLocalStatement(){var e;if(c===y.type){var n=[],t=[];do{e=parseIdentifier(),n.push(e)}while(consume(","));if(consume("="))do{var a=parseExpectedExpression();t.push(a)}while(consume(","));if(r.scope)for(var i=0,s=n.length;i<s;i++)scopeIdentifier(n[i]);return finishNode(m.localStatement(n,t))}if(consume("function"))return e=parseIdentifier(),r.scope&&(scopeIdentifier(e),createScope()),parseFunctionDeclaration(e,!0);raiseUnexpectedToken("<name>",y)}();case"if":return next(),function parseIfStatement(){var e,n,t,a=[];D&&(t=I[I.length-1],I.push(t));e=parseExpectedExpression(),expect("then"),r.scope&&createScope();n=parseBlock(),r.scope&&destroyScope();a.push(finishNode(m.ifClause(e,n))),D&&(t=createLocationMarker());for(;consume("elseif");)pushLocation(t),e=parseExpectedExpression(),expect("then"),r.scope&&createScope(),n=parseBlock(),r.scope&&destroyScope(),a.push(finishNode(m.elseifClause(e,n))),D&&(t=createLocationMarker());consume("else")&&(D&&(t=new Marker(v),I.push(t)),r.scope&&createScope(),n=parseBlock(),r.scope&&destroyScope(),a.push(finishNode(m.elseClause(n))));return expect("end"),finishNode(m.ifStatement(a))}();case"return":return next(),function parseReturnStatement(){var e=[];if("end"!==y.value){var n=parseExpression();for(null!=n&&e.push(n);consume(",");)n=parseExpectedExpression(),e.push(n);consume(";")}return finishNode(m.returnStatement(e))}();case"function":return next(),parseFunctionDeclaration(function parseFunctionName(){var e,n,t;D&&(t=createLocationMarker());e=parseIdentifier(),r.scope&&(attachScope(e,scopeHasName(e.name)),createScope());for(;consume(".");)pushLocation(t),n=parseIdentifier(),e=finishNode(m.memberExpression(e,".",n));consume(":")&&(pushLocation(t),n=parseIdentifier(),e=finishNode(m.memberExpression(e,":",n)),r.scope&&scopeIdentifierName("self"));return e}());case"while":return next(),function parseWhileStatement(){var e=parseExpectedExpression();expect("do"),r.scope&&createScope();var n=parseBlock();r.scope&&destroyScope();return expect("end"),finishNode(m.whileStatement(e,n))}();case"for":return next(),function parseForStatement(){var e,n=parseIdentifier();r.scope&&(createScope(),scopeIdentifier(n));if(consume("=")){var t=parseExpectedExpression();expect(",");var a=parseExpectedExpression(),i=consume(",")?parseExpectedExpression():null;return expect("do"),e=parseBlock(),expect("end"),r.scope&&destroyScope(),finishNode(m.forNumericStatement(n,t,a,i,e))}for(var s=[n];consume(",");)n=parseIdentifier(),r.scope&&scopeIdentifier(n),s.push(n);expect("in");var o=[];do{var c=parseExpectedExpression();o.push(c)}while(consume(","));return expect("do"),e=parseBlock(),expect("end"),r.scope&&destroyScope(),finishNode(m.forGenericStatement(s,o,e))}();case"repeat":return next(),function parseRepeatStatement(){r.scope&&createScope();var e=parseBlock();expect("until");var n=parseExpectedExpression();r.scope&&destroyScope();return finishNode(m.repeatStatement(n,e))}();case"break":return next(),function parseBreakStatement(){return finishNode(m.breakStatement())}();case"do":return next(),function parseDoStatement(){r.scope&&createScope();var e=parseBlock();r.scope&&destroyScope();return expect("end"),finishNode(m.doStatement(e))}();case"goto":return next(),function parseGotoStatement(){y.value;var e=parseIdentifier();return finishNode(m.gotoStatement(e))}()}return p===y.type&&consume("::")?function parseLabelStatement(){var e=y.value,n=parseIdentifier();r.scope&&(scopeIdentifierName("::"+e+"::"),attachScope(n,!0));return expect("::"),finishNode(m.labelStatement(n))}():(D&&I.pop(),consume(";")?void 0:function parseAssignmentOrCallStatement(){var e,n,r=y;D&&(n=createLocationMarker());if(null==(e=parsePrefixExpression()))return unexpected(y);if(",=".indexOf(y.value)>=0){var t,a=[e],i=[];for(validateVar(e);consume(",");)null==(t=parsePrefixExpression())&&raiseUnexpectedToken("<expression>",y),validateVar(t),a.push(t);expect("=");do{t=parseExpectedExpression(),i.push(t)}while(consume(","));return pushLocation(n),finishNode(m.assignmentStatement(a,i))}if(function isCallExpression(e){switch(e.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}(e))return pushLocation(n),finishNode(m.callStatement(e));return unexpected(r)}())}function validateVar(e){(e.inParens||-1===["Identifier","MemberExpression","IndexExpression"].indexOf(e.type))&&raise(y,x.invalidVar,y.value)}function parseIdentifier(){markLocation();var e=y.value;return c!==y.type&&raiseUnexpectedToken("<name>",y),next(),finishNode(m.identifier(e))}function parseFunctionDeclaration(e,n){var t=[];if(expect("("),!consume(")"))for(;;)if(c===y.type){var a=parseIdentifier();if(r.scope&&scopeIdentifier(a),t.push(a),consume(","))continue;if(consume(")"))break}else{if(d===y.type){t.push(parsePrimaryExpression()),expect(")");break}raiseUnexpectedToken("<name> or '...'",y)}var i=parseBlock();return expect("end"),r.scope&&destroyScope(),n=n||!1,finishNode(m.functionStatement(e,t,n,i))}function parseTableConstructor(){for(var e,n,r=[];;){if(markLocation(),p===y.type&&consume("["))e=parseExpectedExpression(),expect("]"),expect("="),n=parseExpectedExpression(),r.push(finishNode(m.tableKey(e,n)));else if(c===y.type)"="===S.value?(e=parseIdentifier(),next(),n=parseExpectedExpression(),r.push(finishNode(m.tableKeyString(e,n)))):(n=parseExpectedExpression(),r.push(finishNode(m.tableValue(n))));else{if(null==(n=parseExpression())){I.pop();break}r.push(finishNode(m.tableValue(n)))}if(!(",;".indexOf(y.value)>=0))break;next()}return expect("}"),finishNode(m.tableConstructorExpression(r))}function parseExpression(){return function parseSubExpression(e){var n,r,t=y.value;D&&(r=createLocationMarker());if(function isUnary(e){return p===e.type?"#-~".indexOf(e.value)>=0:o===e.type&&"not"===e.value}(y)){markLocation(),next();var a=parseSubExpression(10);null==a&&raiseUnexpectedToken("<expression>",y),n=finishNode(m.unaryExpression(t,a))}null==n&&null==(n=parsePrimaryExpression())&&(n=parsePrefixExpression());if(null==n)return null;var i;for(;t=y.value,!(0===(i=p===y.type||o===y.type?binaryPrecedence(t):0)||i<=e);){"^"!==t&&".."!==t||i--,next();var s=parseSubExpression(i);null==s&&raiseUnexpectedToken("<expression>",y),D&&I.push(r),n=finishNode(m.binaryExpression(t,n,s))}return n}(0)}function parseExpectedExpression(){var e=parseExpression();if(null!=e)return e;raiseUnexpectedToken("<expression>",y)}function binaryPrecedence(e){var n=e.charCodeAt(0),r=e.length;if(1===r)switch(n){case 94:return 12;case 42:case 47:case 37:return 10;case 43:case 45:return 9;case 38:return 6;case 126:return 5;case 124:return 4;case 60:case 62:return 3}else if(2===r)switch(n){case 47:return 10;case 46:return 8;case 60:case 62:return"<<"===e||">>"===e?7:3;case 61:case 126:return 3;case 111:return 1}else if(97===n&&"and"===e)return 2;return 0}function parsePrefixExpression(){var e,n,t,a,i;if(D&&(t=createLocationMarker()),c===y.type)n=y.value,e=parseIdentifier(),r.scope&&attachScope(e,scopeHasName(n));else{if(!consume("("))return null;e=parseExpectedExpression(),expect(")"),e.inParens=!0}for(;;)if(p===y.type)switch(y.value){case"[":pushLocation(t),next(),a=parseExpectedExpression(),e=finishNode(m.indexExpression(e,a)),expect("]");break;case".":pushLocation(t),next(),i=parseIdentifier(),e=finishNode(m.memberExpression(e,".",i));break;case":":pushLocation(t),next(),i=parseIdentifier(),e=finishNode(m.memberExpression(e,":",i)),pushLocation(t),e=parseCallExpression(e);break;case"(":case"{":pushLocation(t),e=parseCallExpression(e);break;default:return e}else{if(s!==y.type)break;pushLocation(t),e=parseCallExpression(e)}return e}function parseCallExpression(e){if(p===y.type)switch(y.value){case"(":next();var n=[],r=parseExpression();for(null!=r&&n.push(r);consume(",");)r=parseExpectedExpression(),n.push(r);return expect(")"),finishNode(m.callExpression(e,n));case"{":markLocation(),next();var t=parseTableConstructor();return finishNode(m.tableCallExpression(e,t))}else if(s===y.type)return finishNode(m.stringCallExpression(e,parsePrimaryExpression()));raiseUnexpectedToken("function arguments",y)}function parsePrimaryExpression(){var e,t=s|u|l|f|d,a=y.value,i=y.type;if(D&&(e=createLocationMarker()),i&t){pushLocation(e);var c=n.slice(y.range[0],y.range[1]);return next(),finishNode(m.literal(i,a,c))}return o===i&&"function"===a?(pushLocation(e),next(),r.scope&&createScope(),parseFunctionDeclaration(null)):consume("{")?(pushLocation(e),parseTableConstructor()):void 0}function write(r){return n+=String(r),t=n.length,e}function end(e){void 0!==e&&write(e),n&&"#!"===n.substr(0,2)&&(n=n.replace(/^.*/,function(e){return e.replace(/./g," ")})),t=n.length,D=r.locations||r.ranges,S=lex();var a=function parseChunk(){next(),markLocation(),r.scope&&createScope();var e=parseBlock();return r.scope&&destroyScope(),i!==y.type&&unexpected(y),D&&!e.length&&(v=y),finishNode(m.chunk(e))}();if(r.comments&&(a.comments=g),r.scope&&(a.globals=N),I.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return a}Marker.prototype.complete=function(){r.locations&&(this.loc.end.line=v.line,this.loc.end.column=v.range[1]-v.lineStart),r.ranges&&(this.range[1]=v.range[1])},e.parse=function parse(i,s){void 0===s&&"object"==typeof i&&(s=i,i=void 0);s||(s={});n=i||"",r=function extend(){for(var e,n,r=A.call(arguments),t={},a=0,i=r.length;a<i;a++)for(n in e=r[a])e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(a,s),h=0,b=1,k=0,t=n.length,C=[[]],L=0,N=[],I=[],r.comments&&(g=[]);return r.wait?e:end()},e.write=write,e.end=end})}).call(this,r("YuTi")(e),r("yLpj"))}}]);